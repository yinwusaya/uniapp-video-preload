if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((i=>t.resolve(e()).then((()=>i))),(i=>t.resolve(e()).then((()=>{throw i}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}const i="/static/poster.png";__definePage("pages/index/index",((e,t)=>{const i=e.__vccOpts||e;for(const[n,o]of t)i[n]=o;return i})({data:()=>({title:"Hello",indicatorDots:!1,autoplay:!1,interval:2e3,duration:500,videoList:["/static/1.mp4","/static/2.mp4","/static/3.mp4","/static/4.mp4","/static/5.mp4","/static/6.mp4","/static/7.mp4"],showList:[],videoContexts:[],activeIndex:0,originIndex:0}),onLoad(){this.videoContexts=[uni.createVideoContext("video_0",this),uni.createVideoContext("video_1",this),uni.createVideoContext("video_2",this)],e.nextTick((()=>{t("log","at pages/index/index.vue:70","---",this.$refs.videoRef[0]),this.$refs.videoRef.forEach(((e,t)=>{e.$el.addEventListener("click",(()=>{this.videoContexts[t].play()}))}))})),this.showList=this.videoList.slice(0,3),this.handleChange({detail:{current:0}})},methods:{handleChange(e){const{current:i}=e.detail;i-this.activeIndex==1||i-this.activeIndex==-2?this.originIndex+=1:this.originIndex=0==this.originIndex?0:this.originIndex-1,this.activeIndex=i,t("log","at pages/index/index.vue:93","视频位置",this.originIndex),this.originIndex==this.videoList.length-1&&this.videoList.push(...this.videoList),this.videoContexts.forEach((e=>{null==e||e.pause(),null==e||e.seek(0)})),setTimeout((()=>{this.videoContexts[i].play()}),100);const n=[];n[0]=0==this.originIndex?this.videoList[0]:this.videoList[this.originIndex-1],n[1]=0==this.originIndex?this.videoList[1]:this.videoList[this.originIndex],n[2]=0==this.originIndex?this.videoList[2]:this.videoList[this.originIndex+1],t("log","at pages/index/index.vue:115","播放列表",n),this.showList=n}}},[["render",function(t,n,o,r,s,a){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{id:"user-click"}),e.createElementVNode("swiper",{class:"swiper",circular:"","indicator-dots":s.indicatorDots,autoplay:s.autoplay,interval:s.interval,onChange:n[0]||(n[0]=(...e)=>a.handleChange&&a.handleChange(...e)),duration:s.duration,vertical:""},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.showList,((t,n)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:n},[e.createElementVNode("view",{style:{position:"relative"},ref_for:!0,ref:"videoContainerRef"},[e.createElementVNode("video",{id:`video_${n}`,ref_for:!0,ref:"videoRef",style:{width:"750rpx",height:"100vh"},src:t,poster:i,autoplay:""},null,8,["id","src"]),e.withDirectives(e.createElementVNode("image",{style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0"},src:i,class:"video-poster",mode:"aspectFit"},null,512),[[e.vShow,s.activeIndex!=n]])],512)])))),128))],40,["indicator-dots","autoplay","interval","duration"])])}]]));const n={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:o,Vuex:r,Pinia:s}={app:e.createVueApp(n)};uni.Vuex=r,uni.Pinia=s,o.provide("__globalStyles",__uniConfig.styles),o._component.mpType="app",o._component.render=()=>{},o.mount("#app")}(Vue);
