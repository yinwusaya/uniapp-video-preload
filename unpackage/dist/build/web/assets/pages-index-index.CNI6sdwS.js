import{c as i,n as t,a as s,w as e,i as o,o as n,b as d,d as r,r as a,F as h,S as l,e as c,v,f as p,g,h as x}from"./index-C1qWZ83b.js";const u=((i,t)=>{const s=i.__vccOpts||i;for(const[e,o]of t)s[e]=o;return s})({data:()=>({title:"Hello",indicatorDots:!1,autoplay:!1,interval:2e3,duration:500,videoList:[{id:"1",url:"/static/1.mp4",poster:"/static/1.png"},{id:"2",url:"/static/2.mp4",poster:"/static/2.png"},{id:"3",url:"/static/3.mp4",poster:"/static/3.png"},{id:"4",url:"/static/4.mp4",poster:"/static/4.png"},{id:"5",url:"/static/5.mp4",poster:"/static/5.png"}],showList:[],videoContexts:[],activeIndex:0,originIndex:0}),onLoad(){this.videoContexts=[i("video_0",this),i("video_1",this),i("video_2",this)],t((()=>{this.$refs.videoRef.forEach(((i,t)=>{i.$el.addEventListener("click",(()=>{this.videoContexts[t].play()}))}))})),this.showList=this.videoList.slice(0,3)},methods:{imageloaded(i){this.showList[i].posterLoad=!0},handleChange(i){const{current:t}=i.detail;t-this.activeIndex==1||t-this.activeIndex==-2?this.originIndex+=1:this.originIndex=0==this.originIndex?0:this.originIndex-1,this.activeIndex=t,console.log("视频位置",this.originIndex),this.originIndex==this.videoList.length-1&&this.videoList.push(...this.videoList),this.videoContexts.forEach((i=>{null==i||i.pause(),null==i||i.seek(0)})),setTimeout((()=>{this.videoContexts[t].play()}),100);const s=[];1==t?(s[0]=0==this.originIndex?this.videoList[0]:this.videoList[this.originIndex-1],s[1]=0==this.originIndex?this.videoList[1]:this.videoList[this.originIndex],s[2]=0==this.originIndex?this.videoList[2]:this.videoList[this.originIndex+1]):0==t?(s[0]=0==this.originIndex?this.videoList[1]:this.videoList[this.originIndex],s[1]=0==this.originIndex?this.videoList[0]:this.videoList[this.originIndex+1],s[2]=0==this.originIndex?this.videoList[2]:this.videoList[this.originIndex-1]):2==t&&(s[2]=0==this.originIndex?this.videoList[2]:this.videoList[this.originIndex],s[0]=0==this.originIndex?this.videoList[1]:this.videoList[this.originIndex+1],s[1]=0==this.originIndex?this.videoList[0]:this.videoList[this.originIndex-1]),console.log("播放列表",s),this.showList=s}}},[["render",function(i,t,u,L,f,I){const _=o,y=p,m=g,w=x,C=l;return n(),s(_,{class:"content"},{default:e((()=>[d(_,{id:"user-click"}),d(C,{class:"swiper",circular:"","indicator-dots":f.indicatorDots,autoplay:f.autoplay,interval:f.interval,onChange:I.handleChange,duration:f.duration,vertical:""},{default:e((()=>[(n(!0),r(h,null,a(f.showList,((i,t)=>(n(),s(w,{key:i.id},{default:e((()=>[d(_,{style:{position:"relative"},ref_for:!0,ref:"videoContainerRef"},{default:e((()=>[f.activeIndex==t?(n(),s(y,{key:0,id:`video_${t}`,ref_for:!0,ref:"videoRef",style:{width:"750rpx",height:"100vh"},src:i.url,poster:i.poster,autoplay:"","object-fit":"fill"},null,8,["id","src","poster"])):(n(),s(y,{key:1,id:`video_${t}`,ref_for:!0,ref:"videoRef",style:{width:"750rpx",height:"100vh"},src:f.showList.find((i=>!i.posterLoad))?"":i.url,poster:i.poster,autoplay:"","object-fit":"fill"},null,8,["id","src","poster"])),c(d(m,{onLoad:i=>I.imageloaded(t),style:{position:"absolute",top:"0",bottom:"0",right:"0",left:"0"},src:i.poster,class:"video-poster",mode:"scaleToFill"},null,8,["onLoad","src"]),[[v,f.activeIndex!=t]])])),_:2},1536)])),_:2},1024)))),128))])),_:1},8,["indicator-dots","autoplay","interval","onChange","duration"])])),_:1})}],["__scopeId","data-v-ae137b06"]]);export{u as default};
